<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="/index.html">Stable</a><a href="/indev/index.html">Indev</a></h2><h3>Examples</h3><ul><li><a href="tutorial-UsingBotStorage.html">Using bot-specific storage</a></li><li><a href="tutorial-UsingGuildStorage.html">Using guild-specific storage</a></li></ul><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="ClientStorage.html">ClientStorage</a></li><li><a href="Command.html">Command</a></li><li><a href="CommandRegistry.html">CommandRegistry</a></li><li><a href="GuildSettings.html">GuildSettings</a></li><li><a href="GuildStorage.html">GuildStorage</a></li><li><a href="JSONProvider.html">JSONProvider</a></li><li><a href="KeyedStorage.html">KeyedStorage</a></li><li><a href="RateLimit.html">RateLimit</a></li><li><a href="RateLimiter.html">RateLimiter</a></li><li><a href="StorageProvider.html">StorageProvider</a></li></ul><h3>Interfaces</h3><ul><li><a href="IStorageProvider.html">IStorageProvider</a></li></ul><h3>Mixins</h3><ul><li><a href="Guild.html">Guild</a></li><li><a href="Message.html">Message</a></li></ul><h3>Modules</h3><ul><li><a href="module-CommandDecorators.html">CommandDecorators</a></li><li><a href="module-Middleware.html">Middleware</a></li><li><a href="module-Time.html">Time</a></li><li><a href="module-Util.html">Util</a></li></ul><h3>TypeDefs</h3><ul><li><a href="global.html#ArgOpts">ArgOpts</a></li><li><a href="global.html#BaseCommandName">BaseCommandName</a></li><li><a href="global.html#CommandInfo">CommandInfo</a></li><li><a href="global.html#DefaultGuildSettings">DefaultGuildSettings</a></li><li><a href="global.html#Difference">Difference</a></li><li><a href="global.html#ExpectArgType">ExpectArgType</a></li><li><a href="global.html#MiddlewareFunction">MiddlewareFunction</a></li><li><a href="global.html#ResolveArgType">ResolveArgType</a></li><li><a href="global.html#StorageProviderConstructor">StorageProviderConstructor</a></li><li><a href="global.html#Tuple">Tuple</a></li><li><a href="global.html#YAMDBFOptions">YAMDBFOptions</a></li></ul><h3>Externals</h3><ul><li><a href="external-Client.html">Client</a></li><li><a href="external-ClientOptions.html">ClientOptions</a></li><li><a href="external-Collection.html">Collection</a></li><li><a href="external-Guild.html">Guild</a></li><li><a href="external-Message.html">Message</a></li><li><a href="external-PermissionResolvable.html">PermissionResolvable</a></li><li><a href="external-User.html">User</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title"></h1>
    

    <section>

<header>
    

    <h2>Using guild-specific storage</h2>
</header>

<article>
    <p>So you want to store some stuff for a specific guild. The most likely occurrence of this is a user calling a command that requires interacting guild-specific data, either storing or retrieving. Accessing guild specific data from within a command is really easy because you have access to the guild in question via the <a href="external-Message.html"><code>Message</code></a> object passed to the command under the <code>message</code> parameter.</p>
<p>Because <code>message</code> contains a guild, we can use it to find the <a href="GuildStorage.html"><code>GuildStorage</code></a> for that guild. If you have a lot of separate items you want to set in storage for a guild, it may be easiest to load the guild storage into a local variable:</p>
<pre class="prettyprint source lang-js"><code>let guildStorage = this.bot.guildStorages.get(message.guild);</code></pre><p>We will be using this <code>guildStorage</code> variable for the remainder of this example page.</p>
<h2>Storing values</h2><p>Storing values is done using the <code>setItem()</code> method.
Let's say we know the storage for this guild contains the key <code>'foo'</code>. We want to assign the value <code>'bar'</code> to the key <code>'foo'</code> in this guild's storage:</p>
<pre class="prettyprint source lang-js"><code>guildStorage.setItem('foo', 'bar');</code></pre><p>Now that was easy! If you only need to set the one item in storage there's no need to load the guildStorage into a local variable. You can interact with the storage directly, in-line, like so:</p>
<pre class="prettyprint source lang-js"><code>this.bot.guildStorages.get(message.guild).setItem('foo', 'bar');</code></pre><p>It should be noted that if a key does not yet exist in storage, it will be created when using <code>setItem()</code>.</p>
<h2>Retrieving values</h2><p>Retrieving values from a guild's storage is just as easy as setting them. Assuming you still have the guild storage loaded into a local variable as demonstrated earlier, use <code>getItem()</code>:</p>
<pre class="prettyprint source lang-js"><code>let foo = guildStorage.getItem('foo');
// foo === 'bar'</code></pre><p>This can also be done in-line as before in the storing values example.</p>
<h2>Interacting with guild settings</h2><p>In addition to guild-specific storage, every guild has settings within its own storage that are able to be interacted with via different methods than regular guild storage. See: <a href="GuildStorage.html"><code>GuildStorage</code></a> for more information.</p>
<p>Interacting with settings values is just as easy as interacting with storage values. Settings are keys that have default values that are applied to all new guilds whenever the bot is added to a guild. New default settings can also be added
to all guilds which can then, of course, be changed per guild as code that interacts with those settings is run.</p>
<p>For this example we'll use the <code>'prefix'</code> setting, and we'll be ignoring the fact that there's a shortcut to access the prefix value via <code>this.bot.getPrefix(&lt;guild&gt;)</code>.</p>
<pre class="prettyprint source lang-js"><code>let prefix = guildStorage.getSetting('prefix');
// prefix === '/' by default. This can of course be changed</code></pre><p>And of course, to set the value:</p>
<pre class="prettyprint source lang-js"><code>let newPrefix = '+';
guildStorage.setSetting('prefix', newPrefix);
console.log(guildStorage.getSetting('prefix'));
// logs: +</code></pre><h2>Storing Objects</h2><p>Objects can be stored in guild-specific storage just as easily as any other value, but modifying them requires a little extra effort. You'll need to pull the object out of storage, modify it, and then put it back in:</p>
<pre class="prettyprint source lang-js"><code>let oldObject = {
    foo: 'bar',
    bar: 'baz'
}

guildStorage.setItem('object', oldObject);

// Now, let's modify it!

let newObject = guildStorage.getItem('object');
newObject.foo = 'boo';
guildStorage.setItem('object', newObject);
console.log(guildStorage.getItem('object'));
// logs: { foo: 'boo', bar: 'baz' }</code></pre><p>And that's about it for using guild specific storage! There is so much that can be done by utilizing guild-specific data but it's up to find your own uses for it! Don't forget to check out the docs for <a href="GuildStorage.html"><code>GuildStorage</code></a> to read up on all the methods available for interacting with guild-specific storage and settings. It would also be good to read <a href="tutorial-UsingBotStorage.html">Using bot-specific storage</a> if you haven't already. Knowing the applications and differences between the two storages will leave you with a pretty handy tool for writing your bots!</p>
</article>

</section>

</div>

<br class="clear">

<footer>
	<div align="right">
    	<a href="https://github.com/jsdoc3/jsdoc">JSDoc3.5.0-dev</a> | Minami
	</div>
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>